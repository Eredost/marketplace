{% extends 'base.html.twig' %}

{% block body %}

{% if product.enable == 1 %}

<div class="row">
<div class="btn btn btn-secondary col-md-4 mx-auto " >
        <a href="{{ path('product_edit', {'id':product.id}) }}">Modifier le produit</a>
</div>

<div class="d-flex m-2 col-md-10 mx-auto"> 
    
    <div class="container jumbotron" style="border:1px solid black; display: flex; width:800px; height:700px; position:relative">
        
        <div style="width:500px; height:350px; border: 1px solid black">

            {% if product.image matches '#^https://#' %}
                <img src="{{ product.image }}" class="card-img-top" alt="{{ product.name }}">
            {% else %}
                <img src="{{ asset('uploads/avatar/' ~ product.image) }}" class="card-img-top" alt="{{ product.name }}">
            {% endif %}

        </div>
            
        <div style="margin-left:50px">

            <h1>{{ product.name }}</h1>
                
            <span>&#10033</span>
            <span>&#10033</span>
            <span>&#10033</span>
            <span>&#10033</span>
            <span>&#10034</span>

            <div class="btn-group-vertical mb-3 d-flex">
                       
                <span class="mt-4 mb-4"><b>Choisir une quantité</b></span>

                <div class="d-flex">
                
                    <button class="btn btn-default btn-sm dropdown-toggle mb-4" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"style="display:inline">
                     500g <span class="caret"></span>
                    </button>

                    <button class="btn btn-default btn-sm dropdown-toggle mb-4 ml-4" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                     1 <span class="caret"></span>
                    </button>
                           
                </div> 

                <input type="text" aria-label="First name" class="mb-4" placeholder="Prix">

                <button class="btn btn-primary" type="submit">Ajouter au panier</button>
                            
                <div class="d-flex mt-4">
                            
                    <span>{{ product.price }} €</span>
        
                    <span class="ml-4">{{ product.weight }} kg</span>
                    
                </div>   
            </div> 
        </div> 
        
        <div class="btn-group pb-2" role="group" aria-label="First group"style="position:absolute; bottom:0">
   
            <button type="button" class="btn btn-primary">Description</button>
            <button type="button" class="btn btn-primary">Composition</button>
            <button type="button" class="btn btn-primary">Livraison</button>
            <button type="button" class="btn btn-primary">Conservation</button>
            <button type="button" class="btn btn-primary">Conditionnement</button>

        </div>
    </div>          

    <div class="container jumbotron" style="width:500px; height:700px;border:1px solid black; text-align:center">
        
        <div style="width:150px; height:150px; border-radius:50%; margin:auto">

            {% if product.producer.avatar matches '#^https://#' %}
                <img src="{{ product.producer.avatar }}" class="card-img-top" alt="{{ product.producer.firstname }}">
            {% else %}
                <img src="{{ asset('uploads/avatar/' ~ product.producer.avatar) }}" alt="{{ product.producer.firstname }}">
            {% endif %}
       
        </div>
           
        <h2 class="mt-4">{{ product.producer.firstname }} {{ product.producer.lastname }}</h2>

        <span>&#10033</span>
        <span>&#10033</span>
        <span>&#10033</span>
        <span>&#10033</span>
        <span>&#10034</span>

        <div style="width:150px; height:75px; border: 1px solid black; margin: auto; margin-top:40px; margin-bottom:40px">
            
            <p>Région</p>

        </div>
     
        <span style="margin-top:20px"><b>500 avis</b></span>
       
        <button style="margin:auto" class="btn btn-primary d-block mt-4">Tous nos produits</button>
       
        <div style="display: flex; justify-content:center; margin-top:40px">
        
            <div style="width:50px; height:50px; border:1px solid black; margin-right:10px">

            <p>Image univers</p>
        
            </div>

            {% for subcategory in product.subcategories %}
            
                <span>{{ subcategory.category.name }}</span>

            {% endfor %}
        
            <div style="width:50px; height:50px; border:1px solid black; border-radius:50%; margin-left:10px">
           
            <p>25</p>
       
            </div>
        </div>

    </div> 
</div>


<div class="" style="border:1px solid black; display: flex; width:1600px; height:700px; margin: auto">
    {% for product in product_producer %}
    <div class="card mr-1 mb-1 mx-auto" style="width: 18rem">
        {% if product.image matches '#^https://#' %}
            <img src="{{ product.image }}" class="card-img-top" alt="{{ product.name }}">
        {% else %}
            <img src="{{ asset('uploads/avatar/' ~ product.image) }}" class="card-img-top" alt="{{ product.name }}">
        {% endif %}
        <div class="card-body">
            <h5 class="card-title">{{ product.name }}</h5>
                <p>{{ product.price }} euros</p>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star"></span>
                <span class="fa fa-star"></span>
                <p class="card-text">

                </p>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                <p class="card-text">
                    <h5>Description</h5>
                    {{ product.description }}
                </p>
            </li>
        </ul>
        <div class="card-body text-center">
            <a class="btn btn-primary" href="#">Voir Plus</a>
        </div>
    </div>
    {% endfor %}
</div>
</div>
{% else %}
    <p>Le produit est archivé</p>
{% endif %}
{% endblock %}